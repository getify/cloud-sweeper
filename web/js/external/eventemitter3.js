!function(e,t,n){"function"==typeof define&&define.amd?define(n):"undefined"!=typeof module&&module.exports?module.exports=n():t[e]=n(e,t)}("EventEmitter3",this,function(){"use strict";function e(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function t(){}var n="function"!=typeof Object.create?"~":!1;return t.prototype._events=void 0,t.prototype.listeners=function(e,t){var s=n?n+e:e,r=this._events&&this._events[s];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,c=new Array(o);o>i;i++)c[i]=r[i].fn;return c},t.prototype.emit=function(e,t,s,r,i,o){var c=n?n+e:e;if(!this._events||!this._events[c])return!1;var f,h,v=this._events[c],u=arguments.length;if("function"==typeof v.fn){switch(v.once&&this.removeListener(e,v.fn,void 0,!0),u){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,t),!0;case 3:return v.fn.call(v.context,t,s),!0;case 4:return v.fn.call(v.context,t,s,r),!0;case 5:return v.fn.call(v.context,t,s,r,i),!0;case 6:return v.fn.call(v.context,t,s,r,i,o),!0}for(h=1,f=new Array(u-1);u>h;h++)f[h-1]=arguments[h];v.fn.apply(v.context,f)}else{var a,l=v.length;for(h=0;l>h;h++)switch(v[h].once&&this.removeListener(e,v[h].fn,void 0,!0),u){case 1:v[h].fn.call(v[h].context);break;case 2:v[h].fn.call(v[h].context,t);break;case 3:v[h].fn.call(v[h].context,t,s);break;default:if(!f)for(a=1,f=new Array(u-1);u>a;a++)f[a-1]=arguments[a];v[h].fn.apply(v[h].context,f)}}return!0},t.prototype.on=function(t,s,r){var i=new e(s,r||this),o=n?n+t:t;return this._events||(this._events=n?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},t.prototype.once=function(t,s,r){var i=new e(s,r||this,!0),o=n?n+t:t;return this._events||(this._events=n?{}:Object.create(null)),this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):this._events[o]=i,this},t.prototype.removeListener=function(e,t,s,r){var i=n?n+e:e;if(!this._events||!this._events[i])return this;var o=this._events[i],c=[];if(t)if(o.fn)(o.fn!==t||r&&!o.once||s&&o.context!==s)&&c.push(o);else for(var f=0,h=o.length;h>f;f++)(o[f].fn!==t||r&&!o[f].once||s&&o[f].context!==s)&&c.push(o[f]);return c.length?this._events[i]=1===c.length?c[0]:c:delete this._events[i],this},t.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[n?n+e:e]:this._events=n?{}:Object.create(null),this):this},t.prototype.off=t.prototype.removeListener,t.prototype.addListener=t.prototype.on,t.prototype.setMaxListeners=function(){return this},t.prefixed=n,t});
